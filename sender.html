<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Firebase Control Sender</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.0/firebase-app.js";
    import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/11.8.0/firebase-database.js";

    // Конфигурация Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyBGT7HMksbmom5h1cjQwngnQn871cWCyRI",
      authDomain: "lenaproj-1ea99.firebaseapp.com",
      projectId: "lenaproj-1ea99",
      storageBucket: "lenaproj-1ea99.firebasestorage.app",
      messagingSenderId: "283996974576",
      appId: "1:283996974576:web:b104b8ddea54333e270135",
      databaseURL: "https://lenaproj-1ea99-default-rtdb.firebaseio.com"
    };

    // Инициализация Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    // Отправка команды
    function sendCommand(key) {
      const controlsRef = ref(database, 'controls');
      push(controlsRef, {
        key: key,
        timestamp: Date.now()
      });
    }

    // Слушаем нажатия клавиш
    document.addEventListener('keydown', (event) => {
      const key = event.key.toLowerCase();
      if (['w', 'a', 'd'].includes(key)) {
        sendCommand(key);
        console.log(`Sent: ${key}`);
      }
    });
  </script>
</head>
<body>
  <h1>Отправитель команд (W, A, D)</h1>
  <p>Нажмите W, A или D для отправки команды.</p>
</body>
</html>